{"mappings":"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","sources":["<anon>","script.js"],"sourcesContent":["var $c1ce9d969bfa6909$exports = {};\nconsole.log(\"by michelcwn\");\nconsole.log(\"https://github.com/michelcwn\");\nconsole.log(\"Ig0Y8WaBtSgFrRAAASmwgA==pDN7ZAyflo3Z6JhK\");\n// DOM ELEMENTS\nconst $c1ce9d969bfa6909$var$greeting = document.querySelector(\".info__details__greeting\");\nconst $c1ce9d969bfa6909$var$currentTime = document.querySelector(\".info__details__time\");\nconst $c1ce9d969bfa6909$var$currentLocation = document.querySelector(\".info__details__location\");\nconst $c1ce9d969bfa6909$var$bodyBackground = document.querySelector(\"body\");\nconst $c1ce9d969bfa6909$var$main = document.querySelector(\".main\");\nconst $c1ce9d969bfa6909$var$info = document.querySelector(\".info\");\nconst $c1ce9d969bfa6909$var$infoDetails = document.querySelector(\".info__details\");\nconst $c1ce9d969bfa6909$var$quote = document.querySelector(\".main__quote\");\nconst $c1ce9d969bfa6909$var$btn = document.querySelector(\".info__more__button\");\nconst $c1ce9d969bfa6909$var$btnText = document.querySelector(\".info__more__button__text\");\nconst $c1ce9d969bfa6909$var$btnDown = document.querySelector(\".arrow-down\");\nconst $c1ce9d969bfa6909$var$btnUp = document.querySelector(\".arrow-up\");\n// quote\nconst $c1ce9d969bfa6909$var$quoteText = document.querySelector(\".main__quote__text\");\nconst $c1ce9d969bfa6909$var$quoteAuthor = document.querySelector(\".main__quote__author\");\nconst $c1ce9d969bfa6909$var$quoteIcon = document.querySelector(\".main__quote__icon\");\n// expand\nconst $c1ce9d969bfa6909$var$expand = document.querySelector(\".expand\");\nconst $c1ce9d969bfa6909$var$expandValueTimezone = document.querySelector(\".expand__value-timezone\");\nconst $c1ce9d969bfa6909$var$expandValueDayWeek = document.querySelector(\".expand__value-days-week\");\nconst $c1ce9d969bfa6909$var$expandValueDays = document.querySelector(\".expand__value-days\");\nconst $c1ce9d969bfa6909$var$expandValueWeekNumber = document.querySelector(\".expand__value-week-number\");\n// GET IP //\nasync function $c1ce9d969bfa6909$var$getUserIP() {\n    try {\n        const response = await fetch(\"https://api.ipify.org?format=json\");\n        const data = await response.json();\n        console.log(\"User IP:\", data.ip); // Affiche l'adresse IP de l'utilisateur\n        return data.ip;\n    } catch (error) {\n        console.error(\"Unable to get user IP:\", error);\n    }\n}\n// GET QUOTES //\nlet $c1ce9d969bfa6909$var$category = \"life\";\nasync function $c1ce9d969bfa6909$var$fetchQuote() {\n    const url = \"https://api.api-ninjas.com/v1/quotes?category=\" + $c1ce9d969bfa6909$var$category;\n    const options = {\n        method: \"GET\",\n        headers: {\n            \"X-Api-Key\": \"Ig0Y8WaBtSgFrRAAASmwgA==pDN7ZAyflo3Z6JhK\"\n        }\n    };\n    try {\n        const response = await fetch(url, options);\n        if (!response.ok) throw new Error(\"Network response was not ok\");\n        const data = await response.json();\n        const { quote: quote } = data[0];\n        const { author: author } = data[0];\n        $c1ce9d969bfa6909$var$quoteText.textContent = `\"${quote}\"`;\n        $c1ce9d969bfa6909$var$quoteAuthor.textContent = author;\n    } catch (error) {\n        console.error(\"Could not fetch the quote:\", error);\n    }\n}\n$c1ce9d969bfa6909$var$quoteIcon.addEventListener(\"click\", $c1ce9d969bfa6909$var$fetchQuote);\n$c1ce9d969bfa6909$var$fetchQuote();\n// FETCH IP DATA //\nconst $c1ce9d969bfa6909$var$fetchIpData = async (ip)=>{\n    try {\n        const apiKey = \"854307c784774bf9bd848ba9c7e54e36\";\n        // Utilisation de AllOrigins\n        const allOriginsUrl = \"https://api.allorigins.win/raw?url=\";\n        const targetUrl = encodeURIComponent(`https://api.findip.net/${ip}/?token=${apiKey}`);\n        const response = await fetch(allOriginsUrl + targetUrl);\n        if (!response.ok) throw new Error(`Erreur lors de la r\\xe9cup\\xe9ration des donn\\xe9es : ${response.statusText}`);\n        const data = await response.json();\n        // Assurez-vous que le chemin d'accès à la timezone est correct selon la structure de l'objet JSON retourné\n        const timezone = data?.location?.time_zone;\n        return timezone;\n    } catch (error) {\n        console.error(\"Erreur lors de la r\\xe9cup\\xe9ration des informations IP:\", error);\n    }\n};\n// Location & Time\nconst $c1ce9d969bfa6909$var$formatTime = function(dateString) {\n    const date = new Date(dateString);\n    let hours = date.getHours(); // Pas besoin de convertir pour le format 24 heures\n    let minutes = date.getMinutes();\n    // Formate les minutes pour avoir toujours deux chiffres\n    const minutesFormatted = minutes < 10 ? \"0\" + minutes : minutes;\n    return `${hours}:${minutesFormatted}`;\n};\nconst $c1ce9d969bfa6909$var$getCurrentHour = function(dateString) {\n    const date = new Date(dateString);\n    let hours = date.getHours();\n    return hours;\n};\n// TIMEZONE //\nconst $c1ce9d969bfa6909$var$fetchTimeZone = async function(timezone) {\n    try {\n        const response = await fetch(`https://worldtimeapi.org/api/timezone/${timezone}`);\n        const data = await response.json();\n        const dataString = data.utc_datetime;\n        const currentHour = $c1ce9d969bfa6909$var$getCurrentHour(dataString);\n        // Sélection des icônes\n        const iconSun = document.querySelector(\".info__icon--sun\");\n        const iconMoon = document.querySelector(\".info__icon--moon\");\n        // Initialisation des variables pour les images\n        let imageUrl;\n        // Déterminer quelle icône afficher et choisir l'image correspondante\n        if (currentHour >= 6 && currentHour < 18) {\n            iconSun.classList.remove(\"hidden\");\n            iconMoon.classList.add(\"hidden\");\n            imageUrl = window.innerWidth <= 375 ? \"assets/mobile/bg-image-daytime.jpg\" : window.innerWidth <= 768 ? \"assets/tablet/bg-image-daytime.jpg\" : \"assets/desktop/bg-image-daytime.jpg\";\n            $c1ce9d969bfa6909$var$greeting.textContent = \"Good Morning, it's currently\";\n            $c1ce9d969bfa6909$var$expand.style.backgroundColor = \"rgba(255, 255, 255, 0.65)\";\n            $c1ce9d969bfa6909$var$expand.style.color = \"var(--color-black)\";\n        } else {\n            iconSun.classList.add(\"hidden\");\n            iconMoon.classList.remove(\"hidden\");\n            imageUrl = window.innerWidth <= 375 ? \"assets/mobile/bg-image-nighttime.jpg\" : window.innerWidth <= 768 ? \"assets/tablet/bg-image-nighttime.jpg\" : \"assets/desktop/bg-image-nighttime.jpg\";\n            $c1ce9d969bfa6909$var$greeting.textContent = currentHour < 6 ? \"Good Night, it's currently\" : \"Good Evening, it's currently\";\n            $c1ce9d969bfa6909$var$expand.style.backgroundColor = \"rgba(0, 0, 0, 0.25)\";\n            $c1ce9d969bfa6909$var$expand.style.color = \"var(--color-white)\";\n        }\n        // Appliquer l'image de fond\n        $c1ce9d969bfa6909$var$bodyBackground.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25)),url(${imageUrl})`;\n        // Mettre à jour les contenus textuels\n        $c1ce9d969bfa6909$var$currentLocation.textContent = data.timezone;\n        $c1ce9d969bfa6909$var$expandValueTimezone.textContent = data.timezone;\n        $c1ce9d969bfa6909$var$currentTime.textContent = $c1ce9d969bfa6909$var$formatTime(dataString);\n    } catch (error) {\n        console.log(error);\n    }\n};\n// Exécution asynchrone pour chaîner les appels de fonction\n(async ()=>{\n    try {\n        const userIp = await $c1ce9d969bfa6909$var$getUserIP();\n        const timezone = await $c1ce9d969bfa6909$var$fetchIpData(userIp);\n        await $c1ce9d969bfa6909$var$fetchTimeZone(timezone);\n    } catch (error) {\n        console.error(error);\n    }\n})();\n// HANDLER\nlet $c1ce9d969bfa6909$var$appliedEffects = false;\n$c1ce9d969bfa6909$var$btn.addEventListener(\"click\", function(e) {\n    e.preventDefault();\n    $c1ce9d969bfa6909$var$quote.classList.toggle(\"hidden\");\n    $c1ce9d969bfa6909$var$expand.classList.toggle(\"hidden\");\n    $c1ce9d969bfa6909$var$btnDown.classList.toggle(\"hidden\");\n    $c1ce9d969bfa6909$var$btnUp.classList.toggle(\"hidden\");\n    $c1ce9d969bfa6909$var$main.style.minHeight = $c1ce9d969bfa6909$var$main.style.minHeight === \"50vh\" ? \"100vh\" : \"50vh\";\n    if ($c1ce9d969bfa6909$var$appliedEffects) {\n        // Si les effets sont déjà appliqués, les retirer\n        document.documentElement.style.setProperty(\"--after-left\", \"10\");\n        document.documentElement.style.setProperty(\"--after-right\", \"10\");\n        document.documentElement.style.setProperty(\"--after-bottom\", \"10\");\n        document.documentElement.style.setProperty(\"--after-filter\", \"none\");\n        $c1ce9d969bfa6909$var$appliedEffects = false; // Réinitialiser l'indicateur\n    } else {\n        // Si les effets ne sont pas appliqués, les appliquer\n        document.documentElement.style.setProperty(\"--after-left\", \"-10px\");\n        document.documentElement.style.setProperty(\"--after-right\", \"-10px\");\n        document.documentElement.style.setProperty(\"--after-bottom\", \"-10px\");\n        document.documentElement.style.setProperty(\"--after-filter\", \"blur(10px)\");\n        $c1ce9d969bfa6909$var$appliedEffects = true; // Mettre à jour l'indicateur\n    }\n    $c1ce9d969bfa6909$var$btnText.textContent = $c1ce9d969bfa6909$var$btnText.textContent === \"more\" ? \"less\" : \"more\";\n});\n// EXPAND //\nfunction $c1ce9d969bfa6909$var$dayOfTheYear() {\n    const currentDay = new Date();\n    const startYear = new Date(currentDay.getFullYear(), 0, 0);\n    const difference = currentDay - startYear;\n    const oneDay = 86400000;\n    const day = Math.floor(difference / oneDay);\n    $c1ce9d969bfa6909$var$expandValueDays.textContent = `${day}`;\n}\n$c1ce9d969bfa6909$var$dayOfTheYear();\nfunction $c1ce9d969bfa6909$var$dayOfTheWeek() {\n    const now = new Date();\n    const dayOfTheWeek = now.getDay();\n    const correctedDay = dayOfTheWeek === 0 ? 7 : dayOfTheWeek;\n    $c1ce9d969bfa6909$var$expandValueDayWeek.textContent = `${correctedDay}`;\n}\n$c1ce9d969bfa6909$var$dayOfTheWeek();\nfunction $c1ce9d969bfa6909$var$getWeekNumber() {\n    const now = new Date();\n    const FirstJanuary = new Date(now.getFullYear(), 0, 1);\n    const days = Math.floor((now - FirstJanuary) / 86400000);\n    const weekNumber = Math.ceil((now.getDay() + 1 + days) / 7);\n    $c1ce9d969bfa6909$var$expandValueWeekNumber.textContent = `${weekNumber}`;\n}\n$c1ce9d969bfa6909$var$getWeekNumber();\n\n\n//# sourceMappingURL=index.849175b9.js.map\n","console.log(\"by michelcwn\");\r\nconsole.log(\"https://github.com/michelcwn\");\r\n\r\nconsole.log(process.env.PARCEL_API_NINJAS_KEY);\r\n\r\n// DOM ELEMENTS\r\nconst greeting = document.querySelector(\".info__details__greeting\");\r\nconst currentTime = document.querySelector(\".info__details__time\");\r\nconst currentLocation = document.querySelector(\".info__details__location\");\r\nconst bodyBackground = document.querySelector(\"body\");\r\nconst main = document.querySelector(\".main\");\r\nconst info = document.querySelector(\".info\");\r\nconst infoDetails = document.querySelector(\".info__details\");\r\nconst quote = document.querySelector(\".main__quote\");\r\nconst btn = document.querySelector(\".info__more__button\");\r\nconst btnText = document.querySelector(\".info__more__button__text\");\r\nconst btnDown = document.querySelector(\".arrow-down\");\r\nconst btnUp = document.querySelector(\".arrow-up\");\r\n\r\n// quote\r\nconst quoteText = document.querySelector(\".main__quote__text\");\r\nconst quoteAuthor = document.querySelector(\".main__quote__author\");\r\nconst quoteIcon = document.querySelector(\".main__quote__icon\");\r\n\r\n// expand\r\nconst expand = document.querySelector(\".expand\");\r\nconst expandValueTimezone = document.querySelector(\".expand__value-timezone\");\r\nconst expandValueDayWeek = document.querySelector(\".expand__value-days-week\");\r\nconst expandValueDays = document.querySelector(\".expand__value-days\");\r\nconst expandValueWeekNumber = document.querySelector(\r\n  \".expand__value-week-number\"\r\n);\r\n\r\n// GET IP //\r\n\r\nasync function getUserIP() {\r\n  try {\r\n    const response = await fetch(\"https://api.ipify.org?format=json\");\r\n    const data = await response.json();\r\n    console.log(\"User IP:\", data.ip); // Affiche l'adresse IP de l'utilisateur\r\n    return data.ip;\r\n  } catch (error) {\r\n    console.error(\"Unable to get user IP:\", error);\r\n  }\r\n}\r\n\r\n// GET QUOTES //\r\nlet category = \"life\";\r\nasync function fetchQuote() {\r\n  const url = \"https://api.api-ninjas.com/v1/quotes?category=\" + category;\r\n  const options = {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"X-Api-Key\": \"Ig0Y8WaBtSgFrRAAASmwgA==pDN7ZAyflo3Z6JhK\",\r\n    },\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, options);\r\n    if (!response.ok) {\r\n      throw new Error(\"Network response was not ok\");\r\n    }\r\n    const data = await response.json();\r\n\r\n    const { quote } = data[0];\r\n    const { author } = data[0];\r\n    quoteText.textContent = `\"${quote}\"`;\r\n    quoteAuthor.textContent = author;\r\n  } catch (error) {\r\n    console.error(\"Could not fetch the quote:\", error);\r\n  }\r\n}\r\n\r\nquoteIcon.addEventListener(\"click\", fetchQuote);\r\n\r\nfetchQuote();\r\n\r\n// FETCH IP DATA //\r\n\r\nconst fetchIpData = async (ip) => {\r\n  try {\r\n    const apiKey = \"854307c784774bf9bd848ba9c7e54e36\";\r\n    // Utilisation de AllOrigins\r\n    const allOriginsUrl = \"https://api.allorigins.win/raw?url=\";\r\n    const targetUrl = encodeURIComponent(\r\n      `https://api.findip.net/${ip}/?token=${apiKey}`\r\n    );\r\n    const response = await fetch(allOriginsUrl + targetUrl);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\r\n        `Erreur lors de la récupération des données : ${response.statusText}`\r\n      );\r\n    }\r\n\r\n    const data = await response.json();\r\n    // Assurez-vous que le chemin d'accès à la timezone est correct selon la structure de l'objet JSON retourné\r\n    const timezone = data?.location?.time_zone;\r\n\r\n    return timezone;\r\n  } catch (error) {\r\n    console.error(\"Erreur lors de la récupération des informations IP:\", error);\r\n  }\r\n};\r\n\r\n// Location & Time\r\n\r\nconst formatTime = function (dateString) {\r\n  const date = new Date(dateString);\r\n\r\n  let hours = date.getHours(); // Pas besoin de convertir pour le format 24 heures\r\n  let minutes = date.getMinutes();\r\n\r\n  // Formate les minutes pour avoir toujours deux chiffres\r\n  const minutesFormatted = minutes < 10 ? \"0\" + minutes : minutes;\r\n\r\n  return `${hours}:${minutesFormatted}`;\r\n};\r\n\r\nconst getCurrentHour = function (dateString) {\r\n  const date = new Date(dateString);\r\n\r\n  let hours = date.getHours();\r\n  return hours;\r\n};\r\n\r\n// TIMEZONE //\r\nconst fetchTimeZone = async function (timezone) {\r\n  try {\r\n    const response = await fetch(\r\n      `https://worldtimeapi.org/api/timezone/${timezone}`\r\n    );\r\n    const data = await response.json();\r\n    const dataString = data.utc_datetime;\r\n    const currentHour = getCurrentHour(dataString);\r\n\r\n    // Sélection des icônes\r\n    const iconSun = document.querySelector(\".info__icon--sun\");\r\n    const iconMoon = document.querySelector(\".info__icon--moon\");\r\n\r\n    // Initialisation des variables pour les images\r\n    let imageUrl;\r\n\r\n    // Déterminer quelle icône afficher et choisir l'image correspondante\r\n    if (currentHour >= 6 && currentHour < 18) {\r\n      iconSun.classList.remove(\"hidden\");\r\n      iconMoon.classList.add(\"hidden\");\r\n      imageUrl =\r\n        window.innerWidth <= 375\r\n          ? \"assets/mobile/bg-image-daytime.jpg\"\r\n          : window.innerWidth <= 768\r\n          ? \"assets/tablet/bg-image-daytime.jpg\"\r\n          : \"assets/desktop/bg-image-daytime.jpg\";\r\n      greeting.textContent = \"Good Morning, it's currently\";\r\n      expand.style.backgroundColor = \"rgba(255, 255, 255, 0.65)\";\r\n      expand.style.color = \"var(--color-black)\";\r\n    } else {\r\n      iconSun.classList.add(\"hidden\");\r\n      iconMoon.classList.remove(\"hidden\");\r\n      imageUrl =\r\n        window.innerWidth <= 375\r\n          ? \"assets/mobile/bg-image-nighttime.jpg\"\r\n          : window.innerWidth <= 768\r\n          ? \"assets/tablet/bg-image-nighttime.jpg\"\r\n          : \"assets/desktop/bg-image-nighttime.jpg\";\r\n      greeting.textContent =\r\n        currentHour < 6\r\n          ? \"Good Night, it's currently\"\r\n          : \"Good Evening, it's currently\";\r\n      expand.style.backgroundColor = \"rgba(0, 0, 0, 0.25)\";\r\n      expand.style.color = \"var(--color-white)\";\r\n    }\r\n\r\n    // Appliquer l'image de fond\r\n    bodyBackground.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25)),url(${imageUrl})`;\r\n\r\n    // Mettre à jour les contenus textuels\r\n    currentLocation.textContent = data.timezone;\r\n    expandValueTimezone.textContent = data.timezone;\r\n    currentTime.textContent = formatTime(dataString);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Exécution asynchrone pour chaîner les appels de fonction\r\n\r\n(async () => {\r\n  try {\r\n    const userIp = await getUserIP();\r\n    const timezone = await fetchIpData(userIp);\r\n\r\n    await fetchTimeZone(timezone);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n})();\r\n\r\n// HANDLER\r\nlet appliedEffects = false;\r\n\r\nbtn.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  quote.classList.toggle(\"hidden\");\r\n  expand.classList.toggle(\"hidden\");\r\n  btnDown.classList.toggle(\"hidden\");\r\n  btnUp.classList.toggle(\"hidden\");\r\n\r\n  main.style.minHeight = main.style.minHeight === \"50vh\" ? \"100vh\" : \"50vh\";\r\n\r\n  if (appliedEffects) {\r\n    // Si les effets sont déjà appliqués, les retirer\r\n    document.documentElement.style.setProperty(\"--after-left\", \"10\");\r\n    document.documentElement.style.setProperty(\"--after-right\", \"10\");\r\n    document.documentElement.style.setProperty(\"--after-bottom\", \"10\");\r\n    document.documentElement.style.setProperty(\"--after-filter\", \"none\");\r\n    appliedEffects = false; // Réinitialiser l'indicateur\r\n  } else {\r\n    // Si les effets ne sont pas appliqués, les appliquer\r\n    document.documentElement.style.setProperty(\"--after-left\", \"-10px\");\r\n    document.documentElement.style.setProperty(\"--after-right\", \"-10px\");\r\n    document.documentElement.style.setProperty(\"--after-bottom\", \"-10px\");\r\n    document.documentElement.style.setProperty(\"--after-filter\", \"blur(10px)\");\r\n    appliedEffects = true; // Mettre à jour l'indicateur\r\n  }\r\n\r\n  btnText.textContent = btnText.textContent === \"more\" ? \"less\" : \"more\";\r\n});\r\n\r\n// EXPAND //\r\n\r\nfunction dayOfTheYear() {\r\n  const currentDay = new Date();\r\n  const startYear = new Date(currentDay.getFullYear(), 0, 0);\r\n  const difference = currentDay - startYear;\r\n  const oneDay = 1000 * 60 * 60 * 24;\r\n  const day = Math.floor(difference / oneDay);\r\n\r\n  expandValueDays.textContent = `${day}`;\r\n}\r\n\r\ndayOfTheYear();\r\n\r\nfunction dayOfTheWeek() {\r\n  const now = new Date();\r\n  const dayOfTheWeek = now.getDay();\r\n  const correctedDay = dayOfTheWeek === 0 ? 7 : dayOfTheWeek;\r\n\r\n  expandValueDayWeek.textContent = `${correctedDay}`;\r\n}\r\n\r\ndayOfTheWeek();\r\n\r\nfunction getWeekNumber() {\r\n  const now = new Date();\r\n  const FirstJanuary = new Date(now.getFullYear(), 0, 1);\r\n  const days = Math.floor((now - FirstJanuary) / (24 * 60 * 60 * 1000));\r\n  const weekNumber = Math.ceil((now.getDay() + 1 + days) / 7);\r\n\r\n  expandValueWeekNumber.textContent = `${weekNumber}`;\r\n}\r\n\r\ngetWeekNumber();\r\n"],"names":["console","log","$c1ce9d969bfa6909$var$greeting","document","querySelector","$c1ce9d969bfa6909$var$currentTime","$c1ce9d969bfa6909$var$currentLocation","$c1ce9d969bfa6909$var$bodyBackground","$c1ce9d969bfa6909$var$main","$c1ce9d969bfa6909$var$quote","$c1ce9d969bfa6909$var$btn","$c1ce9d969bfa6909$var$btnText","$c1ce9d969bfa6909$var$btnDown","$c1ce9d969bfa6909$var$btnUp","$c1ce9d969bfa6909$var$quoteText","$c1ce9d969bfa6909$var$quoteAuthor","$c1ce9d969bfa6909$var$quoteIcon","$c1ce9d969bfa6909$var$expand","$c1ce9d969bfa6909$var$expandValueTimezone","$c1ce9d969bfa6909$var$expandValueDayWeek","$c1ce9d969bfa6909$var$expandValueDays","$c1ce9d969bfa6909$var$expandValueWeekNumber","$c1ce9d969bfa6909$var$getUserIP","response","fetch","data","json","ip","error","$c1ce9d969bfa6909$var$fetchQuote","method","headers","ok","Error","quote","author","textContent","addEventListener","$c1ce9d969bfa6909$var$fetchIpData","targetUrl","encodeURIComponent","allOriginsUrl","statusText","location","time_zone","$c1ce9d969bfa6909$var$formatTime","dateString","date","Date","hours","getHours","minutes","getMinutes","$c1ce9d969bfa6909$var$fetchTimeZone","timezone","imageUrl","dataString","utc_datetime","currentHour","iconSun","iconMoon","classList","remove","add","window","innerWidth","style","backgroundColor","color","backgroundImage","userIp","$c1ce9d969bfa6909$var$appliedEffects","e","preventDefault","toggle","minHeight","documentElement","setProperty","$c1ce9d969bfa6909$var$dayOfTheYear","currentDay","startYear","getFullYear","Math","floor","difference","$c1ce9d969bfa6909$var$dayOfTheWeek","dayOfTheWeek","now","getDay","$c1ce9d969bfa6909$var$getWeekNumber","FirstJanuary","weekNumber","ceil"],"version":3,"file":"index.849175b9.js.map"}